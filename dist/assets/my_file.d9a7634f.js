var j=Object.defineProperty,B=Object.defineProperties;var E=Object.getOwnPropertyDescriptors;var y=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var w=(t,e,n)=>e in t?j(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,x=(t,e)=>{for(var n in e||(e={}))N.call(e,n)&&w(t,n,e[n]);if(y)for(var n of y(e))A.call(e,n)&&w(t,n,e[n]);return t},k=(t,e)=>B(t,E(e));import{a as C}from"./axios.85ca7a3f.js";import{u as M,a as O,o as R,t as L,ad as T,c as r,am as U,d as g,ae as v,f as a,w as o,af as q,ak as G,h as c,an as H,e as I,ah as m,g as J,i as _}from"./vendor.3f1080f6.js";import{_ as K}from"./index.1cafa541.js";const Q={name:"dynamin_index",setup(){const t=M(),e=O({file_name:"",loading:!1,tableData:[],total:0,currentPage:1,pageSize:10});R(()=>{n()});const n=()=>{e.loading=!0,C.get("/api/head/staffs/file_list",{params:{page:e.currentPage,page_size:e.pageSize,file_name:e.file_name}}).then(i=>{e.tableData=i.data,e.pageSize=i.pagination.perPage,e.total=i.pagination.total,e.currentPage=i.pagination.currentPage,e.loading=!1})},s=()=>{e.currentPage=1,n()},f=i=>{e.currentPage=i,n()},h=()=>{t.push({path:"/employee-my-file-add"})},u=(i,p)=>{C.put("/api/head/staffs/file_delete",{id:i,status:p}).then(()=>{G.success("\u5220\u9664\u6210\u529F"),n()})};return k(x({},L(e)),{handleOption:s,changePage:f,handleAdd:h,handleStatus:u,Plus:T})}},W=c("div",{style:{float:"right",height:"150px","align-items":"center",display:"flex","font-size":"36px","letter-spacing":"0.2em",color:"#fff"}},[c("strong",null,"\u6211\u7684\u4E91\u76D8")],-1),X=_("\u5B9C\u5BBE\u5E02\u7B2C\u4E09\u4EBA\u6C11\u533B\u9662"),Y=_("\u6211\u7684\u6587\u4EF6"),Z=_("\u65B0\u589E"),$=_("\u641C\u7D22"),ee=["onClick"],te=["href"];function ae(t,e,n,s,f,h){const u=r("el-col"),i=r("el-row"),p=r("el-breadcrumb-item"),P=r("el-breadcrumb"),b=r("el-button"),z=r("el-input"),d=r("el-table-column"),D=r("el-table"),S=r("el-pagination"),V=r("el-card"),F=U("loading");return g(),v(q,null,[a(i,{justify:"center",align:"middle",style:{background:"linear-gradient(135deg, rgb(36 205 103 / 95%) 0%, rgb(56 150 226 / 95%) 100% )","margin-bottom":"20px","margin-top":"-10px"}},{default:o(()=>[a(u,{span:24},{default:o(()=>[W]),_:1})]),_:1}),a(P,{separator:"/",style:{"margin-bottom":"20px"}},{default:o(()=>[a(p,{to:{path:"/"}},{default:o(()=>[X]),_:1}),a(p,null,{default:o(()=>[Y]),_:1})]),_:1}),a(V,{style:{"min-height":"100%"}},{header:o(()=>[a(b,{type:"primary",icon:s.Plus,onClick:s.handleAdd},{default:o(()=>[Z]),_:1},8,["icon","onClick"]),c("div",null,[a(z,{style:{width:"200px","margin-top":"20px","margin-right":"10px","margin-left":"10px"},placeholder:"\u8BF7\u8F93\u5165\u6807\u9898",modelValue:t.file_name,"onUpdate:modelValue":e[0]||(e[0]=l=>t.file_name=l),clearable:""},null,8,["modelValue"]),a(b,{type:"primary",onClick:s.handleOption},{default:o(()=>[$]),_:1},8,["onClick"])])]),default:o(()=>[H((g(),I(D,{data:t.tableData,stripe:"",style:{width:"100%"}},{default:o(()=>[a(d,{prop:"id",label:"id",width:"100"}),a(d,{prop:"file_name",label:"\u6587\u4EF6\u540D",width:"300"}),a(d,{prop:"file_size_m",label:"\u6587\u4EF6\u5927\u5C0F(\u5146)",width:"100"},{default:o(l=>[c("span",null,m(l.row.files.file_size_m),1)]),_:1}),a(d,{prop:"file_type",label:"\u6587\u4EF6\u7C7B\u578B",width:"300"},{default:o(l=>[c("span",null,m(l.row.files.file_type),1)]),_:1}),a(d,{prop:"extension",label:"\u6587\u4EF6\u6269\u5C55\u540D",width:"100"},{default:o(l=>[c("span",null,m(l.row.files.extension),1)]),_:1}),a(d,{prop:"created_at",label:"\u521B\u5EFA\u65F6\u95F4"}),a(d,{label:"\u64CD\u4F5C",width:"200"},{default:o(l=>[l.row.status!=0?(g(),v("a",{key:0,style:{cursor:"pointer","margin-right":"10px",color:"#409EFF"},onClick:ne=>s.handleStatus(l.row.id,0)},"\u5220\u9664",8,ee)):J("",!0),c("a",{style:{"text-decoration":"none",cursor:"pointer","margin-right":"10px",color:"#409EFF"},href:l.row.file_url},"\u4E0B\u8F7D",8,te)]),_:1})]),_:1},8,["data"])),[[F,t.loading]]),a(S,{background:"",layout:"prev, pager, next",total:t.total,"page-size":t.pageSize,"current-page":t.currentPage,onCurrentChange:s.changePage},null,8,["total","page-size","current-page","onCurrentChange"])]),_:1})],64)}var se=K(Q,[["render",ae]]);export{se as default};
