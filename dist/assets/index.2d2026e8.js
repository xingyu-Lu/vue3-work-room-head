var B=Object.defineProperty,N=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var x=(a,o,s)=>o in a?B(a,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[o]=s,P=(a,o)=>{for(var s in o||(o={}))R.call(o,s)&&x(a,s,o[s]);if(w)for(var s of w(o))F.call(o,s)&&x(a,s,o[s]);return a},z=(a,o)=>N(a,O(o));import{a as C}from"./axios.22ed3686.js";import{al as M,u as G,a as L,o as T,t as U,ad as H,c as r,am as I,d as c,ae as u,f as n,w as l,af as J,ak as K,h as f,ah as Q,g as W,an as X,e as D,i as g}from"./vendor.1fa6d093.js";import{_ as Y,l as S,b as Z}from"./index.1b49d6bf.js";const $={name:"dynamin_index",setup(){const a=M(),o=G(),{id:s}=a.query,t=L({res_data:"",title:"",loading:!1,tableData:[],total:0,currentPage:1,pageSize:10});T(()=>{p(),S("userinfo")?t.res_data=S("userinfo"):v()});const v=()=>{C.get("/api/head/staffs/info").then(e=>{t.res_data=e.data,Z("userinfo",e.data)})},p=()=>{t.loading=!0,C.get("/api/head/technicalOfficeDynamics",{params:{page:t.currentPage,page_size:t.pageSize,title:t.title}}).then(e=>{t.tableData=e.data,t.pageSize=e.pagination.perPage,t.total=e.pagination.total,t.currentPage=e.pagination.currentPage,t.loading=!1})},h=()=>{t.currentPage=1,p()},b=e=>{t.currentPage=e,p()},_=e=>{o.push({path:"/kssz-ksdt-add",query:{office_id:e}})},y=(e,d)=>{o.push({path:"/kssz-ksdt-add",query:{id:e,office_id:d}})},m=(e,d)=>{o.push({path:"/kssz-ksdt-preview",query:{id:e,office_id:d}})},k=(e,d)=>{C.put("/api/back/technicalOfficeDynamics/status",{id:e,status:d}).then(()=>{K.success("\u4FEE\u6539\u6210\u529F"),p()})};return z(P({},U(t)),{handleOption:h,changePage:b,handleAdd:_,handleEdit:y,handleStatus:k,handlePreview:m,Plus:H,id:s})}},ee={style:{float:"right",height:"150px","align-items":"center",display:"flex","font-size":"36px","letter-spacing":"0.2em",color:"#fff"}},te={key:0},ae=g("\u5B9C\u5BBE\u5E02\u7B2C\u4E09\u4EBA\u6C11\u533B\u9662"),oe=g("\u79D1\u5BA4\u8BBE\u7F6E"),ne=g("\u79D1\u5BA4\u52A8\u6001"),le=g("\u65B0\u589E"),se=g("\u641C\u7D22"),ie={key:0,style:{color:"#67C23A"}},re={key:1,style:{color:"#E6A23C"}},de={key:2,style:{color:"#F56C6C"}},ce=["onClick"],pe=["onClick"];function _e(a,o,s,t,v,p){const h=r("el-col"),b=r("el-row"),_=r("el-breadcrumb-item"),y=r("el-breadcrumb"),m=r("el-button"),k=r("el-input"),e=r("el-table-column"),d=r("el-image"),V=r("el-table"),q=r("el-pagination"),E=r("el-card"),j=I("loading");return c(),u(J,null,[n(b,{justify:"center",align:"middle",style:{background:"linear-gradient(135deg, rgb(36 205 103 / 95%) 0%, rgb(56 150 226 / 95%) 100% )","margin-bottom":"20px","margin-top":"-10px"}},{default:l(()=>[n(h,{span:24},{default:l(()=>[f("div",ee,[a.res_data.office?(c(),u("strong",te,Q(a.res_data.office.office_name),1)):W("",!0)])]),_:1})]),_:1}),n(y,{separator:"/",style:{"margin-bottom":"20px"}},{default:l(()=>[n(_,{to:{path:"/"}},{default:l(()=>[ae]),_:1}),n(_,{to:{path:"/kssz",query:{id:t.id}}},{default:l(()=>[oe]),_:1},8,["to"]),n(_,null,{default:l(()=>[ne]),_:1})]),_:1}),n(E,{style:{"min-height":"100%"}},{header:l(()=>[n(m,{type:"primary",icon:t.Plus,onClick:o[0]||(o[0]=i=>t.handleAdd(t.id))},{default:l(()=>[le]),_:1},8,["icon"]),f("div",null,[n(k,{style:{width:"200px","margin-top":"20px","margin-right":"10px"},placeholder:"\u8BF7\u8F93\u5165\u6807\u9898",modelValue:a.title,"onUpdate:modelValue":o[1]||(o[1]=i=>a.title=i),clearable:""},null,8,["modelValue"]),n(m,{type:"primary",onClick:t.handleOption},{default:l(()=>[se]),_:1},8,["onClick"])])]),default:l(()=>[X((c(),D(V,{data:a.tableData,stripe:"",style:{width:"100%"}},{default:l(()=>[n(e,{prop:"id",label:"id"}),n(e,{prop:"office_name",label:"\u79D1\u5BA4\u540D\u79F0"}),n(e,{prop:"title",label:"\u6807\u9898"}),n(e,{label:"\u56FE\u7247"},{default:l(i=>[(c(),D(d,{key:i.row.id,src:i.row.url,lazy:!0,"initial-index":1},null,8,["src"]))]),_:1}),n(e,{prop:"release_time",label:"\u53D1\u5E03\u65F6\u95F4"}),n(e,{prop:"num",label:"\u6D4F\u89C8\u6B21\u6570"}),n(e,{prop:"status",label:"\u72B6\u6001"},{default:l(i=>[i.row.status==1?(c(),u("span",ie,"\u5DF2\u5BA1\u6838")):i.row.status==0?(c(),u("span",re,"\u5F85\u5BA1\u6838")):(c(),u("span",de,"\u5BA1\u6838\u4E0D\u8FC7"))]),_:1}),n(e,{prop:"created_at",label:"\u521B\u5EFA\u65F6\u95F4"}),n(e,{label:"\u64CD\u4F5C",width:"200"},{default:l(i=>[f("a",{style:{cursor:"pointer","margin-right":"10px",color:"#409eff"},onClick:A=>t.handlePreview(i.row.id,t.id)},"\u9884\u89C8",8,ce),f("a",{style:{cursor:"pointer","margin-right":"10px",color:"#409eff"},onClick:A=>t.handleEdit(i.row.id,t.id)},"\u4FEE\u6539",8,pe)]),_:1})]),_:1},8,["data"])),[[j,a.loading]]),n(q,{background:"",layout:"prev, pager, next",total:a.total,"page-size":a.pageSize,"current-page":a.currentPage,onCurrentChange:t.changePage},null,8,["total","page-size","current-page","onCurrentChange"])]),_:1})],64)}var he=Y($,[["render",_e]]);export{he as default};
