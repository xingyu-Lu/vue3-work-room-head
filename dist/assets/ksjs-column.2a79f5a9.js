var G=Object.defineProperty,L=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var F=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var R=(e,n,r)=>n in e?G(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,E=(e,n)=>{for(var r in n||(n={}))O.call(n,r)&&R(e,r,n[r]);if(F)for(var r of F(n))T.call(n,r)&&R(e,r,n[r]);return e},q=(e,n)=>L(e,M(n));import{al as A,u as H,a as I,r as J,o as K,t as Q,ad as U,c as f,d as a,ae as g,f as d,w as l,af as h,ag as x,e as u,g as C,h as _,ah as m,i as k}from"./vendor.d3fef3b7.js";import{a as w}from"./axios.81b500ed.js";import{_ as W,l as S}from"./index.897d101a.js";const X={name:"ldtd",setup(){const e=A();H();const{id:n,column_name:r,column_id:t,column_type:B}=e.query,s=I({office_info:"",res_data:J(""),column_list:[],is_login:0,is_self:0,total:0,currentPage:1,pageSize:10});K(()=>{p(),v(),j(),b(),y()});const y=()=>{w.get("/api/head/offices/info",{params:{id:n}}).then(i=>{s.office_info=i.data})},p=()=>{w.get("/api/head/offices/column",{params:{office_id:n,column_id:t,page:s.currentPage,page_size:s.pageSize}}).then(i=>{s.res_data=i.data,s.pageSize=i.pagination.perPage,s.total=i.pagination.total,s.currentPage=i.pagination.currentPage})},v=()=>{w.get("/api/head/technicalOfficeColumnSets/list",{params:{office_id:n}}).then(i=>{s.column_list=i.data})},j=()=>{S("token")&&(s.is_login=1)},b=()=>{S("userinfo")&&S("userinfo").office.office_id==n&&(s.is_self=1)},P=i=>{s.currentPage=i,p()},z=i=>{window.open(i,"_self")};return q(E({},Q(s)),{go_detail:z,changePage:P,Plus:U,id:n,column_name:r,column_type:B})}},Y={style:{height:"150px","align-items":"center","justify-content":"center",display:"flex","font-size":"48px","letter-spacing":"0.2em",color:"#fff"}},Z={key:0},$=k("\u4E09\u6C5F\u540D\u533B\u5DE5\u4F5C\u5BA4"),ee=k("\u79D1\u5BA4\u8BBE\u7F6E"),ne={style:{color:"#409EFF","line-height":"38px"}},te={style:{display:"flex","justify-content":"space-between"}},oe={style:{color:"#999"}},ae=["src","onClick"],le={style:{padding:"14px","line-height":"36px","font-size":"14px",cursor:"pointer"}},ie={style:{display:"flex","justify-content":"space-around"}},re={style:{"list-style":"none"}};function se(e,n,r,t,B,s){const y=f("el-col"),p=f("el-row"),v=f("el-breadcrumb-item"),j=f("el-breadcrumb"),b=f("el-button"),P=f("el-link"),z=f("el-pagination"),i=f("el-card");return a(),g(h,null,[d(p,{justify:"center",align:"middle",style:{background:"linear-gradient(135deg, rgb(36 205 103 / 95%) 0%, rgb(56 150 226 / 95%) 100% )","margin-bottom":"20px","margin-top":"-10px"}},{default:l(()=>[d(y,{span:24},{default:l(()=>[_("div",Y,[e.office_info?(a(),g("strong",Z,m(e.office_info.name),1)):C("",!0)])]),_:1})]),_:1}),d(j,{separator:"/",style:{"margin-bottom":"20px"}},{default:l(()=>[d(v,{to:{path:"/"}},{default:l(()=>[$]),_:1}),d(v,null,{default:l(()=>[k(m(t.column_name),1)]),_:1})]),_:1}),(a(!0),g(h,null,x(e.column_list,(c,N)=>(a(),u(p,{gutter:20,justify:"start",align:"middle",style:{"line-height":"36px","margin-bottom":"20px"}},{default:l(()=>[(a(!0),g(h,null,x(c,(o,D)=>(a(),u(y,{sm:4},{default:l(()=>[t.column_name==o.name||o.name=="\u79D1\u5BA4\u4ECB\u7ECD"&&t.column_name==null?(a(),u(b,{key:0,type:"primary",onClick:V=>t.go_detail(o.url+"?id="+t.id+"&column_id="+o.id+"&column_name="+o.name+"&column_type="+o.type)},{default:l(()=>[k(m(o.name),1)]),_:2},1032,["onClick"])):(a(),u(b,{key:1,onClick:V=>t.go_detail(o.url+"?id="+t.id+"&column_id="+o.id+"&column_name="+o.name+"&column_type="+o.type)},{default:l(()=>[k(m(o.name),1)]),_:2},1032,["onClick"]))]),_:2},1024))),256))]),_:2},1024))),256)),e.is_login&&e.is_self?(a(),u(p,{key:0,gutter:24,justify:"start",align:"middle",style:{"line-height":"36px","margin-bottom":"20px"}},{default:l(()=>[d(y,{sm:3},{default:l(()=>[d(b,{type:"primary",onClick:n[0]||(n[0]=c=>t.go_detail("/kssz?id="+t.id))},{default:l(()=>[ee]),_:1})]),_:1})]),_:1})):C("",!0),t.column_type==0?(a(),u(i,{key:1},{default:l(()=>[_("ul",ne,[(a(!0),g(h,null,x(e.res_data,(c,N)=>(a(),g("li",null,[_("div",te,[d(P,{style:{"font-size":"16px"},href:"/ksjs-column-detail?id="+c.id+"&office_id="+c.office_id+"&column_name="+c.column_name+"&column_type="+t.column_type,target:"_blank",type:"primary",underline:!1},{default:l(()=>[k(m(c.title)+"\u200B",1)]),_:2},1032,["href"]),_("span",oe,m(c.release_time),1)])]))),256))]),d(z,{background:"",layout:"prev, pager, next",total:e.total,"page-size":e.pageSize,"current-page":e.currentPage,onCurrentChange:t.changePage},null,8,["total","page-size","current-page","onCurrentChange"])]),_:1})):C("",!0),t.column_type==1?(a(!0),g(h,{key:2},x(e.res_data,(c,N)=>(a(),u(p,{gutter:20,justify:"start",style:{"margin-bottom":"20px"}},{default:l(()=>[(a(!0),g(h,null,x(c,(o,D)=>(a(),u(y,{sm:4},{default:l(()=>[d(i,{"body-style":{padding:"0px"}},{default:l(()=>[_("img",{src:o.url,style:{width:"100%",cursor:"pointer"},onClick:V=>t.go_detail("/ksjs-column-detail?id="+o.id+"&office_id="+o.office_id+"&column_name="+o.column_name+"&column_type="+t.column_type)},null,8,ae),_("div",le,[_("div",ie,[_("div",re,[_("li",null,m(o.title),1)])])])]),_:2},1024)]),_:2},1024))),256))]),_:2},1024))),256)):C("",!0),t.column_type==1?(a(),u(z,{key:3,background:"",layout:"prev, pager, next",total:e.total,"page-size":e.pageSize,"current-page":e.currentPage,onCurrentChange:t.changePage},null,8,["total","page-size","current-page","onCurrentChange"])):C("",!0)],64)}var fe=W(X,[["render",se]]);export{fe as default};
