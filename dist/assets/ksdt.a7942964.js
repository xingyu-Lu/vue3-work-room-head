var G=Object.defineProperty,L=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var B=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var N=(t,n,i)=>n in t?G(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i,V=(t,n)=>{for(var i in n||(n={}))O.call(n,i)&&N(t,i,n[i]);if(B)for(var i of B(n))T.call(n,i)&&N(t,i,n[i]);return t},R=(t,n)=>L(t,M(n));import{a as b}from"./axios.6170391c.js";import{al as A,u as H,a as I,r as J,o as K,t as Q,ad as U,c as _,d,ae as y,f as l,w as a,af as x,ag as j,e as f,g as P,h as p,ah as m,i as g}from"./vendor.3f1080f6.js";import{_ as W,b as X,l as z}from"./index.5c3ca193.js";const Y={name:"ldtd",setup(){const t=A();H();const{id:n,column_name:i}=t.query,e=I({office_info:"",res_data:J(""),column_list:[],is_login:0,is_self:0,total:0,currentPage:1,pageSize:10});K(()=>{c(),u(),k(),C(),S(),w()});const w=()=>{b.get("/api/head/staffs/info").then(o=>{X("userinfo",o.data)})},S=()=>{b.get("/api/head/offices/info",{params:{id:n}}).then(o=>{e.office_info=o.data})},c=()=>{b.get("/api/head/offices/ksdt",{params:{id:n,page:e.currentPage,page_size:e.pageSize}}).then(o=>{e.res_data=o.data,e.pageSize=o.pagination.perPage,e.total=o.pagination.total,e.currentPage=o.pagination.currentPage})},u=()=>{b.get("/api/head/technicalOfficeColumnSets/list",{params:{office_id:n}}).then(o=>{e.column_list=o.data})},k=()=>{z("token")&&(e.is_login=1)},C=()=>{z("userinfo")&&z("userinfo").office.office_id==n&&(e.is_self=1)},h=o=>{e.currentPage=o,c()},v=o=>{window.open(o,"_self")};return R(V({},Q(e)),{changePage:h,go_detail:v,Plus:U,id:n,column_name:i})}},Z={style:{height:"150px","align-items":"center","justify-content":"center",display:"flex","font-size":"48px","letter-spacing":"0.2em",color:"#fff"}},$={key:0},ee=g("\u5B9C\u5BBE\u5E02\u7B2C\u4E09\u4EBA\u6C11\u533B\u9662"),te=g("\u79D1\u5BA4\u52A8\u6001"),ne=g("\u79D1\u5BA4\u8BBE\u7F6E"),ae={style:{"line-height":"50px","margin-left":"40px"}},oe={style:{"line-height":"18px"}};function le(t,n,i,e,w,S){const c=_("el-col"),u=_("el-row"),k=_("el-breadcrumb-item"),C=_("el-breadcrumb"),h=_("el-button"),v=_("el-image"),o=_("el-link"),q=_("el-pagination"),D=_("el-card");return d(),y(x,null,[l(u,{justify:"center",align:"middle",style:{background:"linear-gradient(135deg, rgb(36 205 103 / 95%) 0%, rgb(56 150 226 / 95%) 100% )","margin-bottom":"20px","margin-top":"-10px"}},{default:a(()=>[l(c,{span:24},{default:a(()=>[p("div",Z,[t.office_info?(d(),y("strong",$,m(t.office_info.name),1)):P("",!0)])]),_:1})]),_:1}),l(C,{separator:"/",style:{"margin-bottom":"20px"}},{default:a(()=>[l(k,{to:{path:"/"}},{default:a(()=>[ee]),_:1}),l(k,null,{default:a(()=>[te]),_:1})]),_:1}),(d(!0),y(x,null,j(t.column_list,(r,E)=>(d(),f(u,{gutter:20,justify:"start",align:"middle",style:{"line-height":"36px","margin-bottom":"20px"}},{default:a(()=>[(d(!0),y(x,null,j(r,(s,ie)=>(d(),f(c,{sm:4},{default:a(()=>[e.column_name==s.name||s.name=="\u79D1\u5BA4\u4ECB\u7ECD"&&e.column_name==null?(d(),f(h,{key:0,type:"primary",onClick:F=>e.go_detail(s.url+"?id="+e.id+"&column_id="+s.id+"&column_name="+s.name+"&column_type="+s.type)},{default:a(()=>[g(m(s.name),1)]),_:2},1032,["onClick"])):(d(),f(h,{key:1,onClick:F=>e.go_detail(s.url+"?id="+e.id+"&column_id="+s.id+"&column_name="+s.name+"&column_type="+s.type)},{default:a(()=>[g(m(s.name),1)]),_:2},1032,["onClick"]))]),_:2},1024))),256))]),_:2},1024))),256)),t.is_login&&t.is_self?(d(),f(u,{key:0,gutter:24,justify:"start",align:"middle",style:{"line-height":"36px","margin-bottom":"20px"}},{default:a(()=>[l(c,{sm:3},{default:a(()=>[l(h,{type:"primary",onClick:n[0]||(n[0]=r=>e.go_detail("/kssz?id="+e.id))},{default:a(()=>[ne]),_:1})]),_:1})]),_:1})):P("",!0),l(D,{class:"box-card"},{default:a(()=>[(d(!0),y(x,null,j(t.res_data,(r,E)=>(d(),f(u,{gutter:20,style:{"margin-bottom":"20px"},justify:"space-around",align:"middle"},{default:a(()=>[l(c,{sm:24},{default:a(()=>[l(u,{gutter:20},{default:a(()=>[l(c,{sm:4},{default:a(()=>[r.img_url?(d(),f(v,{style:{width:"100%",height:"auto",cursor:"pointer"},src:r.img_url,key:r.img_url,onClick:s=>e.go_detail("/ksjs_dt_detail?id="+r.id)},null,8,["src","onClick"])):P("",!0)]),_:2},1024),l(c,{sm:20},{default:a(()=>[p("div",ae,[p("div",null,[l(o,{underline:!1,href:"/ksjs_dt_detail?id="+r.id,target:"_blank"},{default:a(()=>[g(m(r.title),1)]),_:2},1032,["href"])]),p("div",oe,[p("span",null,m(r.strip_content),1)]),p("div",null,[l(o,{underline:!1,href:"/ksjs_dt_detail?id="+r.id,target:"_blank"},{default:a(()=>[g(m(r.release_time),1)]),_:2},1032,["href"])])])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),256)),l(q,{background:"",layout:"prev, pager, next",total:t.total,"page-size":t.pageSize,"current-page":t.currentPage,onCurrentChange:e.changePage},null,8,["total","page-size","current-page","onCurrentChange"])]),_:1})],64)}var _e=W(Y,[["render",le]]);export{_e as default};
