var q=Object.defineProperty,B=Object.defineProperties;var N=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var v=(a,t,l)=>t in a?q(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l,x=(a,t)=>{for(var l in t||(t={}))O.call(t,l)&&v(a,l,t[l]);if(C)for(var l of C(t))A.call(t,l)&&v(a,l,t[l]);return a},P=(a,t)=>B(a,N(t));import{al as E,u as M,a as R,o as F,t as G,ad as L,c as s,am as T,d as _,ae as u,f as o,w as r,af as U,h as y,ah as H,g as I,an as J,e as K,i as p}from"./vendor.0774305f.js";import{a as z}from"./axios.4d33b949.js";import{_ as Q,l as w,b as W}from"./index.4c49b19c.js";const X={name:"technicaloffice_introduce_index",setup(){const a=E(),t=M(),{id:l}=a.query,e=R({res_data:"",office_name:"",staff_name:"",loading:!1,tableData:[],total:0,currentPage:1,pageSize:10});F(()=>{f(),w("userinfo")?e.res_data=w("userinfo"):k()});const k=()=>{z.get("/api/head/staffs/info").then(n=>{e.res_data=n.data,W("userinfo",n.data)})},f=()=>{e.loading=!0,z.get("/api/head/technicalOfficeMembers",{params:{page:e.currentPage,page_size:e.pageSize,staff_name:e.staff_name}}).then(n=>{e.tableData=n.data,e.pageSize=n.pagination.perPage,e.total=n.pagination.total,e.currentPage=n.pagination.currentPage,e.loading=!1})},m=()=>{e.currentPage=1,f()},g=n=>{e.currentPage=n,f()},c=n=>{t.push({path:"/kssz-member-add",query:{office_id:n}})},h=(n,b)=>{t.push({path:"/kssz-member-add",query:{id:n,office_id:b}})};return P(x({},G(e)),{handleOption:m,changePage:g,handleAdd:c,handleEdit:h,Plus:L,id:l})}},Y={style:{float:"right",height:"150px","align-items":"center",display:"flex","font-size":"36px","letter-spacing":"0.2em",color:"#fff"}},Z={key:0},$=p("\u4E09\u6C5F\u540D\u533B\u5DE5\u4F5C\u5BA4"),ee=p("\u90E8\u95E8\u8BBE\u7F6E"),ae=p("\u90E8\u95E8\u6210\u5458"),te=p("\u65B0\u589E"),oe=p("\u641C\u7D22"),ne={key:0,style:{color:"#67C23A"}},le={key:1,style:{color:"#F56C6C"}},re=["onClick"];function se(a,t,l,e,k,f){const m=s("el-col"),g=s("el-row"),c=s("el-breadcrumb-item"),h=s("el-breadcrumb"),n=s("el-button"),b=s("el-input"),i=s("el-table-column"),V=s("el-table"),D=s("el-pagination"),S=s("el-card"),j=T("loading");return _(),u(U,null,[o(g,{justify:"center",align:"middle",style:{background:"linear-gradient(135deg, rgb(36 205 103 / 95%) 0%, rgb(56 150 226 / 95%) 100% )","margin-bottom":"20px","margin-top":"-10px"}},{default:r(()=>[o(m,{span:24},{default:r(()=>[y("div",Y,[a.res_data.office?(_(),u("strong",Z,H(a.res_data.office.office_name),1)):I("",!0)])]),_:1})]),_:1}),o(h,{separator:"/",style:{"margin-bottom":"20px"}},{default:r(()=>[o(c,{to:{path:"/"}},{default:r(()=>[$]),_:1}),o(c,{to:{path:"/kssz",query:{id:e.id}}},{default:r(()=>[ee]),_:1},8,["to"]),o(c,null,{default:r(()=>[ae]),_:1})]),_:1}),o(S,{style:{"min-height":"100%"}},{header:r(()=>[o(n,{type:"primary",icon:e.Plus,onClick:t[0]||(t[0]=d=>e.handleAdd(e.id))},{default:r(()=>[te]),_:1},8,["icon"]),y("div",null,[o(b,{style:{width:"200px","margin-top":"20px","margin-right":"10px"},placeholder:"\u8BF7\u8F93\u5165\u5458\u5DE5\u540D\u79F0",modelValue:a.staff_name,"onUpdate:modelValue":t[1]||(t[1]=d=>a.staff_name=d),clearable:""},null,8,["modelValue"]),o(n,{type:"primary",onClick:e.handleOption},{default:r(()=>[oe]),_:1},8,["onClick"])])]),default:r(()=>[J((_(),K(V,{data:a.tableData,stripe:"",style:{width:"100%"}},{default:r(()=>[o(i,{prop:"id",label:"id"}),o(i,{prop:"office_name",label:"\u79D1\u5BA4\u540D\u79F0"}),o(i,{prop:"staff_name",label:"\u5458\u5DE5\u540D\u79F0"}),o(i,{prop:"is_head",label:"\u662F\u5426\u8D1F\u8D23\u4EBA"},{default:r(d=>[d.row.is_head==1?(_(),u("span",ne,"\u662F")):(_(),u("span",le,"\u5426"))]),_:1}),o(i,{prop:"created_at",label:"\u521B\u5EFA\u65F6\u95F4"}),o(i,{label:"\u64CD\u4F5C",width:"200"},{default:r(d=>[y("a",{style:{cursor:"pointer","margin-right":"10px",color:"#409eff"},onClick:ie=>e.handleEdit(d.row.id,e.id)},"\u4FEE\u6539",8,re)]),_:1})]),_:1},8,["data"])),[[j,a.loading]]),o(D,{background:"",layout:"prev, pager, next",total:a.total,"page-size":a.pageSize,"current-page":a.currentPage,onCurrentChange:e.changePage},null,8,["total","page-size","current-page","onCurrentChange"])]),_:1})],64)}var fe=Q(X,[["render",se]]);export{fe as default};
